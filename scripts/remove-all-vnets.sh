#!/bin/bash
#
# version: 20161112.001

###############################################################################
#                global vars
###############################################################################


###############################################################################
#                functions
###############################################################################

remove_all_vnets() {
  for VNET in $(virsh net-list --all | grep -v " *Name" | grep -v "^-" | awk '{ print $1 }')
  do 
    virsh net-destroy ${VNET}
    virsh net-undefine ${VNET}
  done
}


main() {
  echo
  echo "----------------------------------------------------------------------"
  echo "Removing all Libvirt virtual networks ..."
  echo
  remove_all_vnets
}


###############################################################################
#                main code body
###############################################################################

main
